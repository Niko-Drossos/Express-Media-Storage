<h1 class="flex justify-center py-2">Search Pools</h1>

<%- include('./partials/form/searchPools.ejs') %>

<hr class="my-4 border">

<%- include('./partials/form/pagination.ejs', { response }) %>

<hr class="my-4 border">

<div class="mx-8 grid md:grid-cols-2 gap-4 grid-cols-1">
  <% searchResults.forEach(pool => { %>
    <% let header = include('./partials/cards/cardHeader.ejs', { id: pool._id, mediaType: 'pools', user: pool.user, date: pool.date, title: pool.title, description: pool.description }) %>
    <% let content = include('./partials/cards/poolCardContent.ejs', { _id: pool._id, thumbnailId: pool.thumbnailId }) %>
    <% let footer = include('./partials/cards/cardFooter.ejs', { id: pool._id, mediaType: 'pool', favorited: pool.favorited, voteCount: pool.voteCount }) %>
    <%- include('./partials/cards/card.ejs', { header, content, footer }) %>
  <% }) %>
</div>
<!-- TODO: Temporary div to create space at bottom of page -->
<div class="pb-8"></div>

<script>
  // Start each spinner on load
  document.querySelectorAll('.spinner').forEach(spinner => {
      showSpinner(spinner.id.split('-').pop())
  })
</script>